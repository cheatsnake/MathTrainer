const app=document.querySelector(".app"),header=document.querySelector(".header"),problem=document.querySelector(".app__problem"),input=document.querySelector("input"),btns=document.querySelectorAll(".btn"),delBtn=document.querySelector(".btn_del"),okBtn=document.querySelector(".btn_ok"),correctCount=document.getElementById("correct"),wrongCount=document.getElementById("wrong"),menu=document.querySelector(".menu"),startBtn=document.getElementById("start"),settings=document.querySelector(".settings"),settingsBtn=document.getElementById("settings"),darkBtn=document.getElementById("dark"),lightBtn=document.getElementById("light"),level=document.getElementById("level"),about=document.querySelector(".about"),aboutBtn=document.getElementById("about");let a,b,sign;const signArr=["+","-","/","*"];let correct=0,wrong=0;function randomGenerator(e){return Math.round(Math.random()*e)}function update(){if("Normal"==level.value){a=randomGenerator(499),b=randomGenerator(499);let e=randomGenerator(3);if(sign=signArr[e],a>b&&"-"==sign)problem.textContent=`${a} ${sign} ${b} = `;else if(b>a&&"-"==sign)problem.textContent=`${b} ${sign} ${a} = `;else if("+"==sign)problem.textContent=`${a} ${sign} ${b} = `;else if("/"==sign){for(a=randomGenerator(999),b=randomGenerator(20);a%b!=0;a=randomGenerator(999));problem.textContent=`${a} ${sign} ${b} = `}else"*"==sign?(a=randomGenerator(20),b=randomGenerator(20),problem.textContent=`${a} ${sign} ${b} = `):problem.textContent=`${a} ${sign} ${b} = `}else if("Hard"==level.value){a=randomGenerator(499),b=randomGenerator(499);let e=randomGenerator(3);if(sign=signArr[e],"+"==sign){for(;a<100||b<100;a=randomGenerator(499),b=randomGenerator(499));problem.textContent=`${a} ${sign} ${b} = `}else if("-"==sign){for(a=randomGenerator(999),b=randomGenerator(999);a<100||b<100;a=randomGenerator(999),b=randomGenerator(999));a>b?problem.textContent=`${a} ${sign} ${b} = `:b>a&&(problem.textContent=`${b} ${sign} ${a} = `)}else if("/"==sign){for(a=randomGenerator(999),b=randomGenerator(99);b<11;b=randomGenerator(99));for(;a%b!=0;a=randomGenerator(999));problem.textContent=`${a} ${sign} ${b} = `}else{for(a=randomGenerator(32),b=randomGenerator(31);a<11;a=randomGenerator(32));for(;b<11;b=randomGenerator(31));problem.textContent=`${a} ${sign} ${b} = `}}else{let e=randomGenerator(1);sign=signArr[e],a=randomGenerator(99),b=randomGenerator(99),problem.textContent=b>a?`${b} ${sign} ${a} = `:`${a} ${sign} ${b} = `}correctCount.textContent="Correct: "+correct,wrongCount.textContent="Wrong: "+wrong}function submit(){"+"==sign&&+input.value==a+b||"-"==sign&&a>b&&+input.value==a-b||"-"==sign&&b>a&&+input.value==b-a||"/"==sign&&+input.value==a/b||"*"==sign&&+input.value==a*b?(++correct,update(),input.value=""):(input.value="",++wrong,wrongCount.textContent="Wrong: "+wrong)}function del(){let e=input.value,t=e.substring(0,e.length-1);input.value=t}function resetStats(){correct=0,wrong=0,correctCount.textContent="Correct: "+correct,wrongCount.textContent="Wrong: "+wrong}function lightMode(){document.body.style.background="#fff",document.body.style.color="#000",input.style.background="#fff",input.style.color="#000"}function darkMode(){document.body.style.background="#282c34",document.body.style.color="#fff",input.style.background="#282c34",input.style.color="#fff"}startBtn.addEventListener("click",()=>{app.classList.toggle("app_active"),menu.classList.toggle("menu_active"),update(),resetStats()}),header.addEventListener("click",()=>{"menu_active"!=menu.classList[1]&&"app_active"!=app.classList[1]&&"about_active"!=about.classList[1]?(settings.classList.toggle("settings_active"),menu.classList.toggle("menu_active")):"menu_active"!=menu.classList[1]&&"app_active"!=app.classList[1]&&"settings_active"!=settings.classList[1]?(about.classList.toggle("about_active"),menu.classList.toggle("menu_active")):(app.classList.toggle("app_active"),menu.classList.toggle("menu_active"))}),aboutBtn.addEventListener("click",()=>{menu.classList.toggle("menu_active"),about.classList.toggle("about_active")}),settingsBtn.addEventListener("click",()=>{menu.classList.toggle("menu_active"),settings.classList.toggle("settings_active")}),update(),btns.forEach(e=>{e.addEventListener("click",()=>{input.value+=e.textContent})}),delBtn.addEventListener("click",del),okBtn.addEventListener("click",submit),lightBtn.addEventListener("click",lightMode),darkBtn.addEventListener("click",darkMode),document.addEventListener("keydown",(function(e){"Digit0"==e.code&&(input.value+="0"),"Digit1"==e.code&&(input.value+="1"),"Digit2"==e.code&&(input.value+="2"),"Digit3"==e.code&&(input.value+="3"),"Digit4"==e.code&&(input.value+="4"),"Digit5"==e.code&&(input.value+="5"),"Digit6"==e.code&&(input.value+="6"),"Digit7"==e.code&&(input.value+="7"),"Digit8"==e.code&&(input.value+="8"),"Digit9"==e.code&&(input.value+="9"),"Enter"==e.code&&submit(),"Backspace"==e.code&&del()}));